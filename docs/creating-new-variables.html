<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Creating new variables | The Penn World Table in Excel</title>
  <meta name="description" content="Chapter 3 Creating new variables | The Penn World Table in Excel" />
  <meta name="generator" content="bookdown 0.43 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Creating new variables | The Penn World Table in Excel" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Creating new variables | The Penn World Table in Excel" />
  
  
  

<meta name="author" content="Marion Prat" />


<meta name="date" content="2026-01-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="calculations-in-excel.html"/>
<link rel="next" href="formatting-numbers.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>



<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://github.com/mp16445/EXCEL_PWT" target="blank">The Penn World Tables in Excel</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="preparing-the-dataset.html"><a href="preparing-the-dataset.html"><i class="fa fa-check"></i><b>1</b> Preparing the dataset</a>
<ul>
<li class="chapter" data-level="1.1" data-path="preparing-the-dataset.html"><a href="preparing-the-dataset.html#extracting-the-relevant-information"><i class="fa fa-check"></i><b>1.1</b> Extracting the relevant information</a></li>
<li class="chapter" data-level="1.2" data-path="preparing-the-dataset.html"><a href="preparing-the-dataset.html#freezing-panes"><i class="fa fa-check"></i><b>1.2</b> Freezing panes</a></li>
<li class="chapter" data-level="1.3" data-path="preparing-the-dataset.html"><a href="preparing-the-dataset.html#hiding-rows-or-columns"><i class="fa fa-check"></i><b>1.3</b> Hiding rows or columns</a></li>
<li class="chapter" data-level="1.4" data-path="preparing-the-dataset.html"><a href="preparing-the-dataset.html#sorting-observations"><i class="fa fa-check"></i><b>1.4</b> Sorting observations</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="calculations-in-excel.html"><a href="calculations-in-excel.html"><i class="fa fa-check"></i><b>2</b> Calculations in Excel</a>
<ul>
<li class="chapter" data-level="2.1" data-path="calculations-in-excel.html"><a href="calculations-in-excel.html#basic-arithmetic-calculations"><i class="fa fa-check"></i><b>2.1</b> Basic arithmetic calculations</a></li>
<li class="chapter" data-level="2.2" data-path="calculations-in-excel.html"><a href="calculations-in-excel.html#excel-built-in-functions"><i class="fa fa-check"></i><b>2.2</b> Excel built-in functions</a></li>
<li class="chapter" data-level="2.3" data-path="calculations-in-excel.html"><a href="calculations-in-excel.html#write-formulas-referring-to-values-in-other-cells"><i class="fa fa-check"></i><b>2.3</b> Write formulas referring to values in other cells</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="creating-new-variables.html"><a href="creating-new-variables.html"><i class="fa fa-check"></i><b>3</b> Creating new variables</a>
<ul>
<li class="chapter" data-level="3.1" data-path="creating-new-variables.html"><a href="creating-new-variables.html#generating-new-variables"><i class="fa fa-check"></i><b>3.1</b> Generating new variables</a></li>
<li class="chapter" data-level="3.2" data-path="creating-new-variables.html"><a href="creating-new-variables.html#calculating-growth-rates"><i class="fa fa-check"></i><b>3.2</b> Calculating growth rates</a></li>
<li class="chapter" data-level="3.3" data-path="creating-new-variables.html"><a href="creating-new-variables.html#using-the-natural-logarithm-function"><i class="fa fa-check"></i><b>3.3</b> Using the natural logarithm function</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="formatting-numbers.html"><a href="formatting-numbers.html"><i class="fa fa-check"></i><b>4</b> Formatting numbers</a></li>
<li class="chapter" data-level="5" data-path="create-plots.html"><a href="create-plots.html"><i class="fa fa-check"></i><b>5</b> Create plots</a>
<ul>
<li class="chapter" data-level="5.1" data-path="create-plots.html"><a href="create-plots.html#create-a-line-chart"><i class="fa fa-check"></i><b>5.1</b> Create a line chart</a></li>
<li class="chapter" data-level="5.2" data-path="create-plots.html"><a href="create-plots.html#titles"><i class="fa fa-check"></i><b>5.2</b> Titles</a></li>
<li class="chapter" data-level="5.3" data-path="create-plots.html"><a href="create-plots.html#format-axes"><i class="fa fa-check"></i><b>5.3</b> Format axes</a></li>
<li class="chapter" data-level="5.4" data-path="create-plots.html"><a href="create-plots.html#logarithimc-ratio-scale"><i class="fa fa-check"></i><b>5.4</b> Logarithimc (ratio) scale</a></li>
<li class="chapter" data-level="5.5" data-path="create-plots.html"><a href="create-plots.html#add-trend-lines"><i class="fa fa-check"></i><b>5.5</b> Add trend lines</a></li>
<li class="chapter" data-level="5.6" data-path="create-plots.html"><a href="create-plots.html#format-chart-area"><i class="fa fa-check"></i><b>5.6</b> Format chart area</a></li>
<li class="chapter" data-level="5.7" data-path="create-plots.html"><a href="create-plots.html#export-plot-to-word-document"><i class="fa fa-check"></i><b>5.7</b> Export plot to Word document</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tables.html"><a href="tables.html"><i class="fa fa-check"></i><b>6</b> Tables</a>
<ul>
<li class="chapter" data-level="6.1" data-path="tables.html"><a href="tables.html#calculate-compound-growth-rates-in-excel"><i class="fa fa-check"></i><b>6.1</b> Calculate compound growth rates in Excel</a></li>
<li class="chapter" data-level="6.2" data-path="tables.html"><a href="tables.html#formatting-tables-in-excel"><i class="fa fa-check"></i><b>6.2</b> Formatting tables in Excel</a></li>
<li class="chapter" data-level="6.3" data-path="tables.html"><a href="tables.html#export-an-excel-table-to-a-word-document"><i class="fa fa-check"></i><b>6.3</b> Export an Excel table to a Word document</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="growth-accounting.html"><a href="growth-accounting.html"><i class="fa fa-check"></i><b>7</b> Growth accounting</a>
<ul>
<li class="chapter" data-level="7.1" data-path="growth-accounting.html"><a href="growth-accounting.html#growth-accounting-equation"><i class="fa fa-check"></i><b>7.1</b> Growth accounting equation</a></li>
<li class="chapter" data-level="7.2" data-path="growth-accounting.html"><a href="growth-accounting.html#variable-selection-and-transformation"><i class="fa fa-check"></i><b>7.2</b> Variable selection and transformation</a></li>
<li class="chapter" data-level="7.3" data-path="growth-accounting.html"><a href="growth-accounting.html#results-annual-decompositions"><i class="fa fa-check"></i><b>7.3</b> Results: annual decompositions</a></li>
<li class="chapter" data-level="7.4" data-path="growth-accounting.html"><a href="growth-accounting.html#results-average-decompositions"><i class="fa fa-check"></i><b>7.4</b> Results: average decompositions</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="excel-and-large-language-models.html"><a href="excel-and-large-language-models.html"><i class="fa fa-check"></i><b>8</b> Excel and Large language models</a>
<ul>
<li class="chapter" data-level="8.1" data-path="excel-and-large-language-models.html"><a href="excel-and-large-language-models.html#find-an-excel-formula"><i class="fa fa-check"></i><b>8.1</b> Find an Excel formula</a></li>
<li class="chapter" data-level="8.2" data-path="excel-and-large-language-models.html"><a href="excel-and-large-language-models.html#perform-operations-on-data"><i class="fa fa-check"></i><b>8.2</b> Perform operations on data</a></li>
<li class="chapter" data-level="8.3" data-path="excel-and-large-language-models.html"><a href="excel-and-large-language-models.html#create-complex-graphs"><i class="fa fa-check"></i><b>8.3</b> Create complex graphs</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="useful-resources.html"><a href="useful-resources.html"><i class="fa fa-check"></i>Useful resources</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The Penn World Table in Excel</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="creating-new-variables" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Creating new variables<a href="creating-new-variables.html#creating-new-variables" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="generating-new-variables" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Generating new variables<a href="creating-new-variables.html#generating-new-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><p>Using the data on GDP and population for the United Kingdom in the “United Kingdom” sheet we can generate a series of values for UK GDP per capita. For this, we need to create a formula referring to values in other cells.</p></li>
<li><p>To calculate UK GDP per capita in 1950 we need to divide UK output (“rgdpo”) by UK population (“pop”). Select the cell where you want the result to appear (eg “D2”). The relevant formula for GDP per capita in 1950 is “=B2/C2”. “B2” is UK GDP in 1950, “C2” is UK population in 1950 and “/” indicates that you are dividing the former by the latter. Instead of writing “B2” and “C2” you may just click on the corresponding cells.</p></li>
</ul>
<p><img src="images/ExcelPWT18.png" width="75%" height="75%" style="display: block; margin: auto;" /></p>
<ul>
<li>To calculate UK GDP per capita in all subsequent years, we need to apply the same formula to all rows (representing years) in the dataset.</li>
<li>To do this you can either copy and paste the formula in all subsequent cells in the D column or double click on the “+” in the bottom right corner of D2, or click on the “+” and drag it over all the subsequent cells in the D column (whatever works for you!).</li>
</ul>
<p><img src="images/ExcelPWT19.png" width="75%" height="75%" style="display: block; margin: auto;" /></p>
<ul>
<li>If the data is presented in a table (as below), the formula in “D2” will apply automatically to all rows in column D.</li>
</ul>
<p><img src="images/ExcelPWT20.png" width="75%" height="75%" style="display: block; margin: auto;" /></p>
</div>
<div id="calculating-growth-rates" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Calculating growth rates<a href="creating-new-variables.html#calculating-growth-rates" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Using the UK GDP per capita series, we can now create the series of annual growth rates of GDP per capita using the discrete time formula <span class="math inline">\(g_y = \frac{y_t}{y_{t-1}} -1\)</span>. For example, the annual growth rate of UK GDP per capita in 1951 is equal to the ratio of GDP per capita in 1951 (“D3”) and in 1950 (“D2”) minus 1.</p>
<p><img src="images/ExcelPWT21.png" width="75%" height="75%" style="display: block; margin: auto;" /></p>
<p>Then copy the formula in all subsequent cells to generate the whole series of annual growth rates.</p>
</div>
<div id="using-the-natural-logarithm-function" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Using the natural logarithm function<a href="creating-new-variables.html#using-the-natural-logarithm-function" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To calculate a series for the natural logarithm of UK GDP per capita, use the LN() function:</p>
<p><img src="images/ExcelPWT21b.png" width="75%" height="75%" style="display: block; margin: auto;" /></p>
<p>Then copy the formula in all subsequent cells to generate the natural logarithm of GDP in all subsequent years.
<em>Important</em>: to calculate the natural logarithm, do not use the LOG() function, which should only be used if you want to calculate the logarithm with a different base!</p>
<p>Using the natural logarithm function, we can calculate the annual growth rate using the continuous time formula: <span class="math inline">\(g_y = ln(y_t) - ln(y_{t-1})\)</span>. For example, the annual growth rate of UK GDP per capita in 1951 is equal to the natural logarithm of GDP per capita in 1951 minus the natural logarithm of GDP per capita in 1950.</p>
<p><img src="images/ExcelPWT21c.png" width="75%" height="75%" style="display: block; margin: auto;" /></p>
<p>Then copy the formula in all subsequent cells to generate the whole series of annual growth rates. Compare it with the growth rate calculated using the discrete time formula:</p>
<p><img src="images/ExcelPWT21d.png" width="75%" height="75%" style="display: block; margin: auto;" /></p>
<p>The two formulas yield similar (to 2 decimal points) but not perfectly identical estimates of the annual growth rates.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="calculations-in-excel.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="formatting-numbers.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["_main.pdf", "_main.epub"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
